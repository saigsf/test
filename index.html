<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="./src/css/reset.min.css">
    <link rel="stylesheet" href="./src/css/index.css">
</head>

<body>
    <div class="box">
        <div class="inner">
            <img src="http://saigsf.com/img/03/Gao-1920x1200-004.jpg" alt="">
        </div>
    </div>
    <script src="./src/js/jquery.js"></script>
    <script src="./src/js/unit.js"></script>
    <script >
        window.onload = function() {
            window.initsize();
            window.onresize = function() {
                window.initsize();
                // 添加时间节流
                // window.throttle(500, function() {
                //     init();
                // });
            }
        }
        $.ajax({
            type: 'get',
            url: 'http://saigsf.com/src/php/get-file.php',
            data: {
                file_path: '../json/img.json'
            },
            dataType: 'jsonp',
            jsonp: 'callback'
        }).then(function (res) {
            console.log(res)
            var html = "";
            for (let i = 0; i < res.length; i++) {
                const element = res[i];
                html += '<div class="inner"><img src="'+element.url+'"alt=""></div>'
            }
            $(".box").append($(html));
            
        },function (err){
            console.log(err)
        });
        // $.ajax({
        //         type: 'post',
        //         url: './src/php/set-file.php',
        //         data: {
        //             file_path: '../json/test.json',
        //             file_content: JSON.stringify(res).replace('\"', '"')
        //         },
        //         dataType: 'jsonp',
        //         jsonp: 'callback'
        //     }).then(function (res) {
        //         console.log(res)
        //     }, function (err) {
        //         console.log(err)
        //     });
    </script>
</body>

</html>